<div class="container my-5">
  <div class="row">
    <div class="col-12 col-lg-10 col-xl-8 mx-auto">
      <div class="card">
        <div class="card-body">
          <h3 class="text-center">URL Shortener</h3>
          <div class="col-3 mx-auto">
            <img class="rounded mx-auto d-block mb-3 img-fluid"
              src="https://assets-lighthouse.alphacamp.co/uploads/image/file/16716/ExportedContentImage_00.png" alt="">
          </div>

          {{#unless shortenedURL}}
            <form action="/" method="post">
            {{!-- 若使用者沒有輸入內容，就按下了送出鈕，需要防止表單送出並提示使用者  --}}
              <input class="form-control mb-3" type="text" name="input" placeholder="Input URL here" required>
              <div class="d-flex justify-content-center">
                <button class="btn btn-primary" type="submit">Shorten</button>
              </div>  
            </form> 
          {{/unless}}

          {{#if shortenedURL}}
            <div class="">
             <h4 class="mx-3">Success! Please use this link: </h4> 
             <h5 class="mx-3 text-primary" id="link">{{shortenedURL}}</h5> 
            </div>
            <div class="d-flex justify-content-center">  
              <button class="btn btn-primary" id="copy-button" type="submit" onclick="copylink()">Copy</button>
            </div>
          {{/if}}

        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const link = document.getElementById('link')
  const button = document.getElementById('copy-button')
  function copylink() {
    navigator.clipboard.writeText(link.innerText)
    .then(() => {
      button.innerHTML = 'Copied!'
    });
  }
</script>